# Проект Todo API

## Описание
Этот проект предоставляет RESTful API для управления списком задач (Todo). Используя FastAPI, SQLAlchemy и Pydantic, приложение позволяет пользователям создавать, читать, обновлять и удалять задачи. Также реализованы дополнительные функции, такие как фильтрация по дате, поиск задач и управление статусом выполнения.

---

## Интересные факты
1. Переделал SQLlite на PostgreSQL 
2. Написал тесты todo_app/tests.py 
3. Поднял графану для мониторинга
4. Завернул все это в контейнер и настроил volume c network
5. DockerHub [https://hub.docker.com/r/nikitavoronovvvv/short_url/tags](https://hub.docker.com/repository/docker/nikitavoronovvvv/todo_app/tags
)
---

## Картинки 
<img width="717" alt="image" src="https://github.com/user-attachments/assets/882f5f48-a109-4f8e-9313-73979a474320" />

<img width="943" alt="image" src="https://github.com/user-attachments/assets/879c825c-68b4-4e5a-8a99-4dab07b11a50" />

<img width="1815" alt="image" src="https://github.com/user-attachments/assets/eeb32557-086b-4ecf-863a-8fe7199e5598" />

---
## Основные возможности

1. **Получение всех задач:**
   - Эндпоинт: `GET /items`
   - Возвращает список всех задач.

2. **Получение задачи по ID:**
   - Эндпоинт: `GET /items/{item_id}`
   - Возвращает задачу по её уникальному идентификатору.

3. **Создание новой задачи:**
   - Эндпоинт: `POST /items`
   - Принимает данные задачи (название, описание, статус выполнения) и добавляет её в базу данных.

4. **Обновление существующей задачи:**
   - Эндпоинт: `PUT /items/{item_id}`
   - Позволяет изменить информацию о задаче.

5. **Удаление задачи:**
   - Эндпоинт: `DELETE /items/{item_id}`
   - Удаляет задачу по её уникальному идентификатору.

6. **Получение завершённых задач:**
   - Эндпоинт: `GET /completed`
   - Возвращает список задач со статусом `completed = True`.

7. **Получение незавершённых задач:**
   - Эндпоинт: `GET /incomplete`
   - Возвращает список задач со статусом `completed = False`.

8. **Фильтрация задач по дате:**
   - Эндпоинт: `GET /date_range`
   - Принимает диапазон дат (`start_date`, `end_date`) и возвращает задачи, обновлённые в указанный период.

9. **Пометка задачи как завершённой:**
   - Эндпоинт: `PUT /items/{item_id}/complete`
   - Изменяет статус задачи на `completed = True`.

10. **Поиск задач по названию:**
    - Эндпоинт: `GET /search`
    - Принимает строку `query` и возвращает задачи, название которых содержит указанный текст.

11. **Удаление всех задач:**
    - Эндпоинт: `DELETE /items`
    - Удаляет все задачи из базы данных.

## Установка и запуск

### Шаг 1: Клонирование репозитория

Склонируйте репозиторий проекта:
```bash
git clone <ссылка на репозиторий>
cd <имя папки проекта>
```

### Шаг 2: Установка зависимостей

Убедитесь, что Python 3.9 или выше установлен. Затем создайте виртуальное окружение и установите зависимости:
```bash
python -m venv venv
source venv/bin/activate  # Для Windows используйте `venv\Scripts\activate`
pip install -r requirements.txt
```

### Шаг 3: Настройка базы данных

Создайте и настройте базу данных SQLite (или используйте другую СУБД, обновив настройки в файле `database.py`).

### Шаг 4: Запуск приложения

Запустите сервер разработки:
```bash
uvicorn main:app --host 0.0.0.0 --port 80 --reload
```

Приложение будет доступно по адресу: [http://localhost:80](http://localhost:80)

## Технологии
- **FastAPI**: Фреймворк для создания API.
- **SQLAlchemy**: ORM для работы с базой данных.
- **Pydantic**: Для валидации данных.
- **Uvicorn**: ASGI сервер для запуска приложения.

## Структура проекта
```
.
├── main.py          # Главный файл приложения
├── models.py        # Определения моделей базы данных
├── database.py      # Настройка подключения к базе данных
├── schemas.py       # Pydantic-схемы для сериализации данных
├── requirements.txt # Зависимости проекта
└── README.md        # Документация проекта
```

## Примеры запросов

### Создание задачи
```bash
curl -X POST "http://localhost/items" -H "Content-Type: application/json" -d '{
  "title": "Моя первая задача",
  "description": "Описание задачи",
  "completed": false
}'
```

### Получение всех задач
```bash
curl -X GET "http://localhost/items"
```

### Поиск задач
```bash
curl -X GET "http://localhost/search?query=первая"
```

### Фильтрация задач по дате
```bash
curl -X GET "http://localhost/date_range?start_date=2023-01-01&end_date=2023-12-31"
```

## Лицензия
Этот проект распространяется под лицензией MIT. Более подробную информацию смотрите в файле LICENSE.

